{"ast":null,"code":"import{useState}from'react';import{useScreenVisibility}from'../ScreenVisibilityContext';import{TypeAnimation}from'react-type-animation';import{Cards}from'../Cards/Cards';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const cardData=[{\"id\":1,\"image\":\"/fall_object.webp\",\"name\":\"Fallen Object\",\"audio\":\"../../asset/audio/bones-scream.mp3\",\"qrcode\":\"\"},{\"id\":2,\"image\":\"/whisper_image.webp\",\"name\":\"Suspicious Whispers\",\"audio\":\"../../asset/audio/fart.mp3\",\"qrcode\":\"\"},{\"id\":3,\"image\":\"/bloody_knife.png\",\"name\":\"Bloody Knife\",\"audio\":\"../../asset/audio/fart.mp3\",\"qrcode\":\"\"},{\"id\":4,\"image\":\"/torn_curtain.png\",\"name\":\"Torn Curtain\",\"audio\":\"../../asset/audio/fart.mp3\",\"qrcode\":\"\"},{\"id\":5,\"image\":\"/locked_diary.png\",\"name\":\"Locked Diary\",\"audio\":\"../../asset/audio/fart.mp3\",\"qrcode\":\"\"}];export default function Chapter2(){// State to manage which screen is visible\nconst{screenVisibility,handleScreen}=useScreenVisibility();const[clickOrder,setClickOrder]=useState([]);const[tempArr,setTempArr]=useState([]);const handleCardClick=cardId=>{// If card is already selected, remove it from the sequence\nif(clickOrder.includes(cardId)){setClickOrder(prev=>prev.filter(id=>id!==cardId));}// Otherwise add it to the sequence if we haven't reached the max (5)\nelse if(clickOrder.length<cardData.length){setClickOrder(prev=>[...prev,cardId]);}};const currentArray=[];const handleTempArr=card=>{if(currentArray.length<cardData.length){console.log(\"HandleTempArr\");console.log(card.id);if(!currentArray.includes(card.id)){currentArray.push(card.id);console.log(currentArray);}else{console.log(`card ${card.id} is already in the array`);}}};const checkOrder=array=>{const correctOrder=[2,5,3,1,4];let correctOder=true;for(let index=0;index<array.length;index++){const element=array[index];if(element==correctOrder[index]){correctOder=true;}else{correctOder=false;}}if(correctOder){alert(`order is correct`);}else{alert(\"order is not correct\");}// array.forEach((num: number) => {\n//   if(array[num] === correctOrder[num]){\n//     console.log(\"correct\")\n//   } else {\n//     console.log(\"non-correct\")\n//   }\n// }\n// )\n};const getCardNumber=cardId=>{const index=clickOrder.indexOf(cardId);return index>=0?index+1:null;};const isOrderCorrect=()=>{// Replace with your desired correct order\nconst correctOrder=[2,5,3,1,4];return JSON.stringify(clickOrder)===JSON.stringify(correctOrder);};// Handler to go back to MainPage\nconst goBackToMain=()=>{handleScreen('main');};const goToChaper3=()=>{handleScreen('chapter_3');};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Chapter 2!\"}),/*#__PURE__*/_jsx(TypeAnimation,{sequence:[\"as the door opens detective Jones feels chills that makes the hairs on the back on his neck stand up. He makes the brave decision to walk in and what he finds will forever change the Blackwood Mansion.\"],speed:50// repeat={Infinity}\n}),/*#__PURE__*/_jsx(\"div\",{className:\"cards-grid\",children:cardData.map(card=>/*#__PURE__*/_jsxs(\"div\",{// onClick={() => handleCardClick(card.id)}\nonClick:()=>handleTempArr(card),className:`card-wrapper ${getCardNumber(card.id)?'numbered':''}`,children:[/*#__PURE__*/_jsx(Cards,{image:card.image,name:card.name,qrcode:card.qrcode,audio:card.audio}),getCardNumber(card.id)&&/*#__PURE__*/_jsx(\"div\",{className:\"card-number\",children:getCardNumber(card.id)})]},card.id))}),/*#__PURE__*/_jsx(\"button\",{// onClick={goToChapter2} \nonClick:()=>checkOrder(currentArray)// disabled={!isOrderCorrect() || clickOrder.length !== cardData.length}\n,children:\"Check Order\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Current Visible Screen: \",Object.keys(screenVisibility).find(screen=>screenVisibility[screen])]}),/*#__PURE__*/_jsx(\"p\",{children:\"This is the first chapter of your journey.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:goBackToMain,children:\"Back to Main\"}),/*#__PURE__*/_jsx(\"button\",{onClick:goToChaper3,children:\"Back to Chapter 3\"})]})});}","map":{"version":3,"names":["useState","useScreenVisibility","TypeAnimation","Cards","jsx","_jsx","jsxs","_jsxs","cardData","Chapter2","screenVisibility","handleScreen","clickOrder","setClickOrder","tempArr","setTempArr","handleCardClick","cardId","includes","prev","filter","id","length","currentArray","handleTempArr","card","console","log","push","checkOrder","array","correctOrder","correctOder","index","element","alert","getCardNumber","indexOf","isOrderCorrect","JSON","stringify","goBackToMain","goToChaper3","children","sequence","speed","className","map","onClick","image","name","qrcode","audio","Object","keys","find","screen"],"sources":["/home/fnky/C0de/School/Special-Topics/Blackwood-Mansion/src/components/Chapters/Chapter2.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useScreenVisibility } from '../ScreenVisibilityContext';\nimport { TypeAnimation } from 'react-type-animation';\nimport { Cards } from '../Cards/Cards';\n\n\ninterface Card {\n  id: number;\n  image: string;\n  name: string;\n  audio: string,\n  qrcode: string\n}\n\nconst cardData: Card[] = [\n  {\n    \"id\": 1,\n    \"image\": \"/fall_object.webp\",\n    \"name\": \"Fallen Object\",\n    \"audio\": \"../../asset/audio/bones-scream.mp3\",\n    \"qrcode\": \"\"\n  },\n  {\n    \"id\": 2,\n    \"image\": \"/whisper_image.webp\",\n    \"name\": \"Suspicious Whispers\",\n    \"audio\": \"../../asset/audio/fart.mp3\",\n    \"qrcode\": \"\"\n  },\n  {\n    \"id\": 3,\n    \"image\": \"/bloody_knife.png\",\n    \"name\": \"Bloody Knife\",\n    \"audio\": \"../../asset/audio/fart.mp3\",\n    \"qrcode\": \"\"\n  },\n  {\n    \"id\": 4,\n    \"image\": \"/torn_curtain.png\",\n    \"name\": \"Torn Curtain\",\n    \"audio\": \"../../asset/audio/fart.mp3\",\n    \"qrcode\": \"\"\n  },\n  {\n    \"id\": 5,\n    \"image\": \"/locked_diary.png\",\n    \"name\": \"Locked Diary\",\n    \"audio\": \"../../asset/audio/fart.mp3\",\n    \"qrcode\": \"\"\n  },\n];\n\n\n\nexport default function Chapter2() {\n  // State to manage which screen is visible\n  const { screenVisibility, handleScreen } = useScreenVisibility();\n\n  const [clickOrder, setClickOrder] = useState<number[]>([]);\n  const [tempArr, setTempArr ] = useState([]);\n\n\n  const handleCardClick = (cardId: number) => {\n    // If card is already selected, remove it from the sequence\n    if (clickOrder.includes(cardId)) {\n      setClickOrder(prev => prev.filter(id => id !== cardId));\n    } \n    // Otherwise add it to the sequence if we haven't reached the max (5)\n    else if (clickOrder.length < cardData.length) {\n      setClickOrder(prev => [...prev, cardId]);\n    }\n  };\n\n  const currentArray : number[] = []\n\n  const handleTempArr = (card: Card) => {\n    if(currentArray.length < cardData.length ){\n      console.log(\"HandleTempArr\")\n      console.log(card.id)\n  \n      if(!currentArray.includes(card.id)) {\n        currentArray.push(card.id)\n        console.log(currentArray)\n      } else {\n        console.log(`card ${card.id} is already in the array` )\n      }\n    }\n  };\n\n\n  const checkOrder = (array: number[]) => {\n    const correctOrder = [2, 5, 3, 1, 4];\n    \n    let correctOder: Boolean = true;\n\n    for (let index = 0; index < array.length; index++) {\n      const element = array[index];\n      if( element == correctOrder[index]){\n        correctOder = true;\n      } else {\n        correctOder = false;\n      }\n    }\n    \n    if(correctOder) {\n      alert(`order is correct`)\n    } else {\n      alert(\"order is not correct\")\n    }\n    // array.forEach((num: number) => {\n    //   if(array[num] === correctOrder[num]){\n    //     console.log(\"correct\")\n    //   } else {\n    //     console.log(\"non-correct\")\n    //   }\n    // }\n    // )\n  }\n\n  const getCardNumber = (cardId: number) => {\n    const index = clickOrder.indexOf(cardId);\n    return index >= 0 ? index + 1 : null;\n  };\n\n  const isOrderCorrect = () => {\n    // Replace with your desired correct order\n    const correctOrder = [2, 5, 3, 1, 4];\n    return JSON.stringify(clickOrder) === JSON.stringify(correctOrder);\n  };\n\n\n\n  // Handler to go back to MainPage\n  const goBackToMain = () => {\n    handleScreen('main');\n  };\n  \n  const goToChaper3 = () => {\n    handleScreen('chapter_3');\n  };\n\n  return (\n    <div>\n        <div>\n\n          <h1>Welcome to Chapter 2!</h1>\n            <TypeAnimation \n              sequence={[\n                \"as the door opens detective Jones feels chills that makes the hairs on the back on his neck stand up. He makes the brave decision to walk in and what he finds will forever change the Blackwood Mansion.\"\n              ]}\n              speed={50}\n              // repeat={Infinity}\n            />\n\n\n\n      <div className=\"cards-grid\">\n        {cardData.map((card) => (\n          <div \n            key={card.id}\n            // onClick={() => handleCardClick(card.id)}\n            onClick={() => handleTempArr(card)}\n            className={`card-wrapper ${getCardNumber(card.id) ? 'numbered' : ''}`}\n          >\n            <Cards \n              image={card.image}\n              name={card.name}\n              qrcode={card.qrcode}\n              audio={card.audio}\n            />\n            {getCardNumber(card.id) && (\n              <div className=\"card-number\">{getCardNumber(card.id)}</div>\n            )}\n          </div>\n        ))}\n      </div>\n\n             <button \n              // onClick={goToChapter2} \n              onClick={() => checkOrder(currentArray)} \n              // disabled={!isOrderCorrect() || clickOrder.length !== cardData.length}\n            >Check Order</button>\n\n\n\n\n\n\n          <h2>Current Visible Screen: {Object.keys(screenVisibility).find(screen => screenVisibility[screen])}</h2>\n          <p>This is the first chapter of your journey.</p>\n          <button onClick={goBackToMain}>Back to Main</button>\n          <button onClick={goToChaper3}>Back to Chapter 3</button>\n        </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}